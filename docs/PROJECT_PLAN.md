# DeepBiz ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ã‚³ãƒ³ã‚»ãƒ—ãƒˆ**: åœ°åŸŸÃ—æ¥­ç¨®ç‰¹åŒ–å‹ã®ãƒ“ã‚¸ãƒã‚¹æƒ…å ±ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ   
**åˆæœŸã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: æ±äº¬23åŒºã®ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯ï¼ˆ1,905ä»¶ï¼‰  
**æ‹¡å¼µæˆ¦ç•¥**: å®Ÿç¸¾æ¤œè¨¼å¾Œã€é£²é£Ÿåº—ãƒ»å®¿æ³Šæ–½è¨­ãªã©å¤šæ¥­ç¨®å±•é–‹

---

## ğŸ¯ Phase 0: ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã§ã®å®Ÿè¨¼ï¼ˆç¾åœ¨ï¼‰

### ç›®çš„
- ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»è¡¨ç¤ºãƒ•ãƒ­ãƒ¼ã®ç¢ºç«‹
- SEOåŠ¹æœã®æ¤œè¨¼
- é‹ç”¨ã‚³ã‚¹ãƒˆãƒ»å·¥æ•°ã®æŠŠæ¡
- ãƒ¦ãƒ¼ã‚¶ãƒ¼åå¿œã®æ¸¬å®š

### å®Ÿæ–½å†…å®¹
1. **ãƒ‡ãƒ¼ã‚¿åé›†å®Œäº†**ï¼ˆ2025å¹´12æœˆ22æ—¥æ™‚ç‚¹ï¼‰
   - CSV import: 1,905ä»¶
   - GMAPè£œå®Œ Phase 1A: 1,722ä»¶ï¼ˆ90.4%ï¼‰Place IDå–å¾—å®Œäº†
   - Googleè©•ä¾¡: ç´„1,600ä»¶å–å¾—æ¸ˆã¿

2. **è¿½åŠ ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ**ï¼ˆæ¬¡ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
   - Phase 1B: CIDãƒ»Website URLå–å¾—
   - Phase 1C: å…¬å¼ã‚µã‚¤ãƒˆå•ã„åˆã‚ã›æƒ…å ±æŠ½å‡º
   - Phase 2: GMAPæ–°è¦ã‚¯ãƒªãƒ‹ãƒƒã‚¯ç™ºè¦‹ï¼ˆ3,423ã‚¨ãƒªã‚¢æ¤œç´¢ï¼‰
   - Phase 3: HPBè¿½åŠ æƒ…å ±å–å¾—

3. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‹¡å……è©•ä¾¡**
   - å–å¾—ãƒ‡ãƒ¼ã‚¿ã®ç²¾åº¦æ¤œè¨¼
   - è¡¨ç¤ºå†…å®¹ã®å……å®Ÿåº¦ç¢ºèª
   - SEOåŠ¹æœæ¸¬å®šï¼ˆ3ãƒ¶æœˆï¼‰
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ»åœ¨æ™‚é–“ãƒ»å›éŠç‡åˆ†æ

4. **åˆ¤æ–­åŸºæº–**
   - âœ… ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸç‡ > 80%
   - âœ… æœˆé–“PV > 1,000ï¼ˆåˆæœˆï¼‰
   - âœ… å¹³å‡æ»åœ¨æ™‚é–“ > 2åˆ†
   - âœ… é‹ç”¨å·¥æ•° < é€±5æ™‚é–“

---

## ğŸš€ Phase 1: å¤šæ¥­ç¨®å±•é–‹æº–å‚™

### å®Ÿæ–½æ¡ä»¶
Phase 0ã§ä»¥ä¸‹ã‚’é”æˆå¾Œã«é–‹å§‹ï¼š
- ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã§æœˆé–“10,000PVé”æˆ
- ãƒ‡ãƒ¼ã‚¿åé›†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®‰å®šç¨¼åƒï¼ˆ3ãƒ¶æœˆä»¥ä¸Šï¼‰
- åç›ŠåŒ–ã®ç›®å‡¦ãŒç«‹ã¤ï¼ˆåºƒå‘Šåå…¥ or æ²è¼‰èª²é‡‘ï¼‰

### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«çµ±åˆ

#### 1-1. å…±é€šãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ

```python
# models.py - BusinessåŸºåº•ãƒ¢ãƒ‡ãƒ«

class Business(db.Model):
    """å…¨æ¥­ç¨®å…±é€šã®ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«"""
    __tablename__ = 'business'
    
    id = db.Column(db.Integer, primary_key=True)
    
    # æ¥­ç¨®åˆ†é¡
    business_type = db.Column(db.String(50), nullable=False, index=True)
    # 'beauty_clinic', 'restaurant', 'hotel', 'gym', 'hair_salon'
    
    # åŸºæœ¬æƒ…å ±ï¼ˆå…¨æ¥­ç¨®å…±é€šï¼‰
    name = db.Column(db.String(255), nullable=True, index=True)
    address = db.Column(db.String(255), nullable=True, index=True)
    phone = db.Column(db.String(20), nullable=True)
    
    # Google Mapsæƒ…å ±
    place_id = db.Column(db.String(100), nullable=True, unique=True, index=True)
    cid = db.Column(db.String(100), nullable=True, unique=True)
    
    # Webæƒ…å ±
    website_url = db.Column(db.String(500), nullable=True)
    contact_page_url = db.Column(db.String(500), nullable=True)
    email = db.Column(db.String(255), nullable=True)
    
    # ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆæƒ…å ±
    portal_urls = db.Column(db.JSON, nullable=True)
    # ä¾‹: {"hotpepper": "https://...", "tabelog": "https://...", "ikyu": "https://..."}
    
    # ãƒ¬ãƒ“ãƒ¥ãƒ¼æƒ…å ±ï¼ˆRelationshipï¼‰
    review_summaries = db.relationship('ReviewSummary', backref='business', 
                                       lazy=True, cascade="all, delete-orphan")
    
    # æ¥­ç¨®åˆ¥æ‹¡å¼µæƒ…å ±ï¼ˆæŸ”è»ŸãªJSONï¼‰
    extra_data = db.Column(db.JSON, nullable=True)
    # ä¾‹: 
    # ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯: {"æ–½è¡“ãƒ¡ãƒ‹ãƒ¥ãƒ¼": [...], "è¨ºç™‚æ™‚é–“": {...}}
    # é£²é£Ÿåº—: {"ã‚¸ãƒ£ãƒ³ãƒ«": "ã‚¤ã‚¿ãƒªã‚¢ãƒ³", "äºˆç®—": "3000-5000å††"}
    # ãƒ›ãƒ†ãƒ«: {"å®¢å®¤æ•°": 50, "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³": "15:00"}
    
    # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
    last_scraped_at = db.Column(db.DateTime, nullable=True)
    
    # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
    __table_args__ = (
        db.Index('idx_business_type_address', 'business_type', 'address'),
    )


class ReviewSummary(db.Model):
    """ãƒ¬ãƒ“ãƒ¥ãƒ¼æƒ…å ±ï¼ˆæ¥­ç¨®å…±é€šï¼‰"""
    id = db.Column(db.Integer, primary_key=True)
    business_id = db.Column(db.Integer, db.ForeignKey('business.id'), nullable=False)
    source_name = db.Column(db.String(50), nullable=False)
    # 'Google', 'Tabelog', 'Ikyu', 'Hot Pepper', 'Retty'
    rating = db.Column(db.Float, nullable=True)
    count = db.Column(db.Integer, nullable=True)
    
    __table_args__ = (
        db.UniqueConstraint('business_id', 'source_name', name='_business_source_uc'),
    )
```

#### 1-2. Salonãƒ¢ãƒ‡ãƒ«ã®ç§»è¡Œæˆ¦ç•¥

**Option A: ãƒ“ãƒ¥ãƒ¼ä½œæˆï¼ˆæ¨å¥¨ - æ—¢å­˜ã‚³ãƒ¼ãƒ‰äº’æ›æ€§ç¶­æŒï¼‰**
```python
# æ—¢å­˜Salonãƒ†ãƒ¼ãƒ–ãƒ«ã¯æ®‹ã—ã€Businessã«ãƒ‡ãƒ¼ã‚¿ã‚³ãƒ”ãƒ¼
# Salonã¯äº’æ›æ€§ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½

class Salon(db.Model):
    """ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯ï¼ˆäº’æ›æ€§ç¶­æŒï¼‰"""
    # æ—¢å­˜æ§‹é€ ã‚’ç¶­æŒ
    # app.pyã®å¤‰æ›´ã‚’æœ€å°åŒ–
```

**Option B: å®Œå…¨ç§»è¡Œ**
```python
# Salonãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤ã—ã€Businessã«çµ±åˆ
# business_type = 'beauty_clinic' ã§ãƒ•ã‚£ãƒ«ã‚¿
```

---

### 1-3. URLæ§‹é€ è¨­è¨ˆï¼ˆã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ–¹å¼ï¼‰

```
deepbiz.jp/                  â†’ ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆæ¥­ç¨®é¸æŠï¼‰
deepbiz.jp/clinic/           â†’ ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯ä¸€è¦§
deepbiz.jp/clinic/search     â†’ ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯æ¤œç´¢
deepbiz.jp/clinic/123        â†’ ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯è©³ç´°
deepbiz.jp/restaurant/       â†’ é£²é£Ÿåº—ä¸€è¦§
deepbiz.jp/restaurant/456    â†’ é£²é£Ÿåº—è©³ç´°
deepbiz.jp/hotel/            â†’ å®¿æ³Šæ–½è¨­ä¸€è¦§
```

#### Flask Blueprintæ§‹æˆ
```python
# app.py

from blueprints.clinic import clinic_bp
from blueprints.restaurant import restaurant_bp
from blueprints.hotel import hotel_bp

app.register_blueprint(clinic_bp)
app.register_blueprint(restaurant_bp)
app.register_blueprint(hotel_bp)
```

```python
# blueprints/clinic.py

from flask import Blueprint, render_template, request
from models import Business, ReviewSummary

clinic_bp = Blueprint('clinic', __name__, 
                     url_prefix='/clinic',
                     template_folder='../templates/clinic')

@clinic_bp.route('/')
def index():
    """ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯ä¸€è¦§"""
    clinics = Business.query.filter_by(
        business_type='beauty_clinic'
    ).order_by(Business.name).all()
    
    return render_template('index.html', 
                         businesses=clinics,
                         business_type='ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯',
                         business_slug='clinic')

@clinic_bp.route('/search')
def search():
    """ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯æ¤œç´¢"""
    keyword = request.args.get('q', '')
    area = request.args.get('area', '')
    
    query = Business.query.filter_by(business_type='beauty_clinic')
    
    if keyword:
        query = query.filter(Business.name.contains(keyword))
    if area:
        query = query.filter(Business.address.contains(area))
    
    clinics = query.all()
    
    return render_template('search.html',
                         businesses=clinics,
                         keyword=keyword,
                         area=area)

@clinic_bp.route('/<int:id>')
def detail(id):
    """ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯è©³ç´°"""
    clinic = Business.query.filter_by(
        id=id,
        business_type='beauty_clinic'
    ).first_or_404()
    
    reviews = ReviewSummary.query.filter_by(business_id=id).all()
    
    return render_template('detail.html',
                         business=clinic,
                         reviews=reviews)
```

---

### 1-4. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ 

```
templates/
  â”œâ”€â”€ base.html              # æœ€ä¸Šä½ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  â”œâ”€â”€ components/            # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  â”‚   â”œâ”€â”€ header.html
  â”‚   â”œâ”€â”€ footer.html
  â”‚   â””â”€â”€ review_card.html
  â”œâ”€â”€ clinic/                # ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯
  â”‚   â”œâ”€â”€ index.html         # ä¸€è¦§
  â”‚   â”œâ”€â”€ search.html        # æ¤œç´¢çµæœ
  â”‚   â””â”€â”€ detail.html        # è©³ç´°
  â”œâ”€â”€ restaurant/            # é£²é£Ÿåº—
  â”‚   â”œâ”€â”€ index.html
  â”‚   â”œâ”€â”€ search.html
  â”‚   â””â”€â”€ detail.html
  â””â”€â”€ hotel/                 # å®¿æ³Šæ–½è¨­
      â”œâ”€â”€ index.html
      â”œâ”€â”€ search.html
      â””â”€â”€ detail.html
```

#### base.html - æ¥­ç¨®åˆ‡æ›¿ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
```html
<nav class="bg-white shadow-md">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex space-x-8 py-4">
      <a href="/" class="text-2xl font-bold text-blue-600">DeepBiz</a>
      
      <div class="flex space-x-6 ml-auto items-center">
        <a href="/clinic" 
           class="{% if business_slug == 'clinic' %}text-blue-600 font-semibold{% else %}text-gray-600 hover:text-blue-600{% endif %}">
          ğŸ¥ ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯
        </a>
        <a href="/restaurant" 
           class="{% if business_slug == 'restaurant' %}text-blue-600 font-semibold{% else %}text-gray-600 hover:text-blue-600{% endif %}">
          ğŸ½ï¸ é£²é£Ÿåº—
        </a>
        <a href="/hotel" 
           class="{% if business_slug == 'hotel' %}text-blue-600 font-semibold{% else %}text-gray-600 hover:text-blue-600{% endif %}">
          ğŸ¨ å®¿æ³Šæ–½è¨­
        </a>
      </div>
    </div>
  </div>
</nav>

{% block content %}{% endblock %}
```

---

### 1-5. æ±ç”¨ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```python
# scripts/enrich_gmap_universal.py

"""
æ±ç”¨GMAPæƒ…å ±å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
ä»»æ„ã®æ¥­ç¨®ãƒ¢ãƒ‡ãƒ«ã«å¯¾å¿œ
"""

import sys
sys.path.append('/var/www/salon_app')

from app import app, db, Business, ReviewSummary, get_gmap_place_details

def enrich_with_gmap(business_type, limit=None):
    """
    æŒ‡å®šæ¥­ç¨®ã«Googleãƒãƒƒãƒ—æƒ…å ±ã‚’è£œå®Œ
    
    Args:
        business_type: 'beauty_clinic', 'restaurant', 'hotel'
        limit: å‡¦ç†ä»¶æ•°åˆ¶é™
    """
    api_key = os.environ.get('GOOGLE_MAPS_API_KEY')
    
    with app.app_context():
        query = Business.query.filter_by(
            business_type=business_type,
            place_id=None
        )
        
        if limit:
            query = query.limit(limit)
        
        items = query.all()
        total = len(items)
        
        BUSINESS_NAMES = {
            'beauty_clinic': 'ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯',
            'restaurant': 'é£²é£Ÿåº—',
            'hotel': 'å®¿æ³Šæ–½è¨­',
        }
        
        print(f"=== {BUSINESS_NAMES[business_type]} GMAPè£œå®Œé–‹å§‹ ===")
        print(f"å¯¾è±¡ä»¶æ•°: {total}")
        
        success = 0
        failed = 0
        
        for i, item in enumerate(items, 1):
            try:
                search_query = f"{item.name} {item.address}"
                print(f"\n[{i}/{total}] {item.name}")
                
                place_details = get_gmap_place_details(search_query, api_key)
                
                if not place_details:
                    print(f"  â†’ Placeæƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ")
                    failed += 1
                    continue
                
                # åŸºæœ¬æƒ…å ±æ›´æ–°
                item.place_id = place_details.get('place_id')
                rating = place_details.get('rating')
                review_count = place_details.get('user_ratings_total')
                
                print(f"  â†’ Place ID: {item.place_id}")
                
                # ãƒ¬ãƒ“ãƒ¥ãƒ¼æƒ…å ±ä¿å­˜
                if rating is not None:
                    google_review = ReviewSummary.query.filter_by(
                        business_id=item.id,
                        source_name='Google'
                    ).first()
                    
                    if google_review:
                        google_review.rating = rating
                        google_review.count = review_count
                    else:
                        google_review = ReviewSummary(
                            business_id=item.id,
                            source_name='Google',
                            rating=rating,
                            count=review_count
                        )
                        db.session.add(google_review)
                    
                    print(f"  â†’ è©•ä¾¡: {rating}â˜… ({review_count}ä»¶)")
                
                item.last_scraped_at = datetime.utcnow()
                db.session.commit()
                success += 1
                
                time.sleep(1)
                
            except Exception as e:
                print(f"  ã‚¨ãƒ©ãƒ¼: {e}")
                failed += 1
                db.session.rollback()
                continue
        
        print(f"\n=== å®Œäº† ===")
        print(f"æˆåŠŸ: {success}ä»¶")
        print(f"å¤±æ•—: {failed}ä»¶")


if __name__ == '__main__':
    # å®Ÿè¡Œä¾‹:
    # python scripts/enrich_gmap_universal.py beauty_clinic
    # python scripts/enrich_gmap_universal.py restaurant 100
    
    if len(sys.argv) < 2:
        print("ä½¿ç”¨æ–¹æ³•: python enrich_gmap_universal.py <business_type> [limit]")
        print("æ¥­ç¨®: beauty_clinic, restaurant, hotel")
        sys.exit(1)
    
    business_type = sys.argv[1]
    limit = int(sys.argv[2]) if len(sys.argv) > 2 else None
    
    enrich_with_gmap(business_type, limit)
```

---

### 1-6. æ¥­ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

```python
# config/business_config.py

"""
æ¥­ç¨®åˆ¥ã®è¨­å®šæƒ…å ±
æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å…ƒã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚½ãƒ¼ã‚¹ãªã©
"""

BUSINESS_TYPES = {
    'beauty_clinic': {
        'name_ja': 'ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯',
        'name_en': 'Beauty Clinic',
        'icon': 'ğŸ¥',
        'color': 'blue',
        
        # GMAPæ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
        'search_keywords': [
            'ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯',
            'ç¾å®¹å¤–ç§‘',
            'ç¾å®¹çš®è†šç§‘',
            'ç¾å®¹æ•´å½¢',
        ],
        
        # ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¯¾è±¡ã‚µã‚¤ãƒˆ
        'scraping_sources': [
            {
                'name': 'ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ¼',
                'slug': 'hotpepper',
                'base_url': 'https://clinic.beauty.hotpepper.jp/',
            },
            {
                'name': 'ãƒˆãƒªãƒ“ãƒ¥ãƒ¼',
                'slug': 'tribeau',
                'base_url': 'https://tribeau.jp/',
            },
        ],
        
        # ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚½ãƒ¼ã‚¹
        'review_sources': ['Google', 'Hot Pepper', 'Tribeau'],
        
        # extra_data ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©
        'extra_fields': {
            'æ–½è¡“ãƒ¡ãƒ‹ãƒ¥ãƒ¼': 'list',
            'è¨ºç™‚æ™‚é–“': 'dict',
            'äºˆç´„URL': 'string',
        },
    },
    
    'restaurant': {
        'name_ja': 'é£²é£Ÿåº—',
        'name_en': 'Restaurant',
        'icon': 'ğŸ½ï¸',
        'color': 'orange',
        
        'search_keywords': [
            'ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³',
            'å±…é…’å±‹',
            'ã‚«ãƒ•ã‚§',
            'ãƒãƒ¼',
        ],
        
        'scraping_sources': [
            {
                'name': 'é£Ÿã¹ãƒ­ã‚°',
                'slug': 'tabelog',
                'base_url': 'https://tabelog.com/',
            },
            {
                'name': 'ãã‚‹ãªã³',
                'slug': 'gurunavi',
                'base_url': 'https://www.gnavi.co.jp/',
            },
        ],
        
        'review_sources': ['Google', 'Tabelog', 'Retty'],
        
        'extra_fields': {
            'ã‚¸ãƒ£ãƒ³ãƒ«': 'string',
            'äºˆç®—': 'string',
            'å¸­æ•°': 'integer',
            'äºˆç´„å¯å¦': 'boolean',
        },
    },
    
    'hotel': {
        'name_ja': 'å®¿æ³Šæ–½è¨­',
        'name_en': 'Hotel',
        'icon': 'ğŸ¨',
        'color': 'purple',
        
        'search_keywords': [
            'ãƒ›ãƒ†ãƒ«',
            'æ—…é¤¨',
            'æ°‘å®¿',
            'ã‚²ã‚¹ãƒˆãƒã‚¦ã‚¹',
        ],
        
        'scraping_sources': [
            {
                'name': 'ä¸€ä¼‘.com',
                'slug': 'ikyu',
                'base_url': 'https://www.ikyu.com/',
            },
            {
                'name': 'ã˜ã‚ƒã‚‰ã‚“',
                'slug': 'jalan',
                'base_url': 'https://www.jalan.net/',
            },
        ],
        
        'review_sources': ['Google', 'Ikyu', 'Jalan', 'Rakuten'],
        
        'extra_fields': {
            'å®¢å®¤æ•°': 'integer',
            'ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³': 'string',
            'ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ': 'string',
            'é§è»Šå ´': 'boolean',
        },
    },
}


def get_business_config(business_type):
    """æ¥­ç¨®è¨­å®šã‚’å–å¾—"""
    return BUSINESS_TYPES.get(business_type)


def get_all_business_types():
    """å…¨æ¥­ç¨®ãƒªã‚¹ãƒˆã‚’å–å¾—"""
    return list(BUSINESS_TYPES.keys())
```

---

## ğŸ“Š Phase 2: æ¥­ç¨®è¿½åŠ å±•é–‹

### å„ªå…ˆé †ä½

1. **é£²é£Ÿåº—ï¼ˆRestaurantï¼‰** - ç¬¬2æ¥­ç¨®
   - ç†ç”±: ãƒ‡ãƒ¼ã‚¿é‡ãŒå¤šã„ï¼ˆéœ€è¦å¤§ï¼‰ã€é£Ÿã¹ãƒ­ã‚°ç­‰APIåˆ©ç”¨å¯èƒ½
   - ç›®æ¨™: æ±äº¬23åŒº 10,000åº—èˆ—
   - ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°: é£Ÿã¹ãƒ­ã‚°ã€ãã‚‹ãªã³ã€Retty

2. **å®¿æ³Šæ–½è¨­ï¼ˆHotelï¼‰** - ç¬¬3æ¥­ç¨®
   - ç†ç”±: å˜ä¾¡ãŒé«˜ã„ï¼ˆåºƒå‘Šåå…¥æœŸå¾…ï¼‰ã€ä¸€ä¼‘.comç­‰ãƒ‡ãƒ¼ã‚¿å……å®Ÿ
   - ç›®æ¨™: æ±äº¬23åŒº 500æ–½è¨­
   - ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°: ä¸€ä¼‘.comã€ã˜ã‚ƒã‚‰ã‚“ã€æ¥½å¤©ãƒˆãƒ©ãƒ™ãƒ«

3. **ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ã‚¸ãƒ ï¼ˆGymï¼‰** - ç¬¬4æ¥­ç¨®
   - ç†ç”±: æˆé•·å¸‚å ´ã€ç«¶åˆå°‘ãªã„
   - ç›®æ¨™: æ±äº¬23åŒº 1,000æ–½è¨­

4. **ãƒ˜ã‚¢ã‚µãƒ­ãƒ³ï¼ˆHair Salonï¼‰** - ç¬¬5æ¥­ç¨®
   - ç†ç”±: ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ¼ã¨è¦ªå’Œæ€§é«˜ã„
   - ç›®æ¨™: æ±äº¬23åŒº 5,000åº—èˆ—

---

## ğŸ’° åç›ŠåŒ–æˆ¦ç•¥

### ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥åç›Šãƒ¢ãƒ‡ãƒ«

#### Phase 0ï¼ˆç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯å®Ÿè¨¼æœŸé–“ï¼‰
- **ç›®æ¨™**: ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»SEOåŠ¹æœæ¤œè¨¼
- **åç›Š**: ãªã—ï¼ˆæŠ•è³‡ãƒ•ã‚§ãƒ¼ã‚ºï¼‰

#### Phase 1ï¼ˆå¤šæ¥­ç¨®å±•é–‹ï¼‰
- **Google AdSense**: æœˆé–“10ä¸‡PVé”æˆå¾Œ
- **ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆ**: äºˆç´„ã‚µã‚¤ãƒˆèª˜å°ï¼ˆä¸€ä¼‘.comã€é£Ÿã¹ãƒ­ã‚°ç­‰ï¼‰

#### Phase 2ï¼ˆãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ©Ÿèƒ½ï¼‰
- **æ²è¼‰åº—èˆ—å‘ã‘æœ‰æ–™ãƒ—ãƒ©ãƒ³**:
  - ä¸Šä½è¡¨ç¤º: æœˆé¡10,000å††
  - è©³ç´°æƒ…å ±æ²è¼‰: æœˆé¡5,000å††
  - å•ã„åˆã‚ã›è»¢é€: æœˆé¡3,000å††

#### Phase 3ï¼ˆåºƒå‘Šå–¶æ¥­ï¼‰
- **ç´”åºƒå‘Šæ è²©å£²**: æ¥­ç¨®åˆ¥ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãƒãƒŠãƒ¼
- **ãƒ¡ãƒ¼ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°**: ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ç¾åœ¨ï¼ˆPhase 0ï¼‰
- **Backend**: Flaskï¼ˆPython 3.xï¼‰
- **Database**: SQLiteï¼ˆsalon_data.db, scraping_data.dbï¼‰
- **Frontend**: Tailwind CSS + Jinja2
- **Scraping**: Selenium + undetected-chromedriver
- **API**: Google Maps Text Search API
- **Hosting**: Sakura VPSï¼ˆUbuntu 24.04ï¼‰

### å°†æ¥ï¼ˆPhase 2ä»¥é™ï¼‰
- **Database**: PostgreSQLï¼ˆã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ï¼‰
- **Cache**: Redisï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰
- **Queue**: Celeryï¼ˆéåŒæœŸã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ï¼‰
- **Frontend**: Next.jsï¼ˆSPAåŒ–æ¤œè¨ï¼‰
- **Hosting**: AWS/GCPï¼ˆã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ï¼‰

---

## ğŸ“… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

### 2025å¹´12æœˆï¼ˆPhase 0 - å®Ÿè¨¼æœŸé–“ï¼‰
- [x] ç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆ1,905ä»¶ï¼‰
- [x] GMAP Phase 1Aå®Œäº†ï¼ˆPlace ID 90.4%å–å¾—ï¼‰
- [ ] GMAP Phase 1B: CIDãƒ»Websiteå–å¾—
- [ ] GMAP Phase 1C: å•ã„åˆã‚ã›æƒ…å ±å–å¾—
- [ ] ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‹¡å……è©•ä¾¡

### 2026å¹´1æœˆã€œ3æœˆï¼ˆPhase 0 ç¶™ç¶šï¼‰
- [ ] SEOåŠ¹æœæ¸¬å®šï¼ˆ3ãƒ¶æœˆï¼‰
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ
- [ ] Phase 1ç§»è¡Œåˆ¤æ–­

### 2026å¹´4æœˆã€œ6æœˆï¼ˆPhase 1 - å¤šæ¥­ç¨®æº–å‚™ï¼‰
- [ ] Businessãƒ¢ãƒ‡ãƒ«å®Ÿè£…
- [ ] Blueprintæ§‹é€ ãƒªãƒ•ã‚¡ã‚¯ã‚¿
- [ ] é£²é£Ÿåº—ãƒ‡ãƒ¼ã‚¿åé›†é–‹å§‹

### 2026å¹´7æœˆã€œï¼ˆPhase 2 - æ¥­ç¨®å±•é–‹ï¼‰
- [ ] é£²é£Ÿåº—ãƒªãƒªãƒ¼ã‚¹
- [ ] å®¿æ³Šæ–½è¨­ãƒ‡ãƒ¼ã‚¿åé›†
- [ ] åç›ŠåŒ–é–‹å§‹

---

## ğŸ¯ æˆåŠŸæŒ‡æ¨™ï¼ˆKPIï¼‰

### Phase 0ï¼ˆç¾å®¹ã‚¯ãƒªãƒ‹ãƒƒã‚¯å®Ÿè¨¼ï¼‰
- ãƒ‡ãƒ¼ã‚¿å–å¾—ç‡: > 80%
- æœˆé–“PV: > 10,000
- å¹³å‡æ»åœ¨æ™‚é–“: > 2åˆ†
- ç›´å¸°ç‡: < 60%
- ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯æ¤œç´¢æµå…¥: > 50%

### Phase 1ï¼ˆå¤šæ¥­ç¨®å±•é–‹ï¼‰
- æ¥­ç¨®æ•°: 3æ¥­ç¨®ä»¥ä¸Š
- ç·ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: > 15,000ä»¶
- æœˆé–“PV: > 100,000
- åºƒå‘Šåå…¥: > æœˆé¡50,000å††

### Phase 2ï¼ˆåç›ŠåŒ–ï¼‰
- æœ‰æ–™æ²è¼‰åº—èˆ—: > 50åº—èˆ—
- æœˆé–“å£²ä¸Š: > 500,000å††
- åˆ©ç›Šç‡: > 30%

---

## ğŸ”„ é‹ç”¨ãƒ•ãƒ­ãƒ¼

### æ—¥æ¬¡
- [ ] ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ç¢ºèª
- [ ] ã‚µãƒ¼ãƒãƒ¼ç¨¼åƒçŠ¶æ³ç¢ºèª

### é€±æ¬¡
- [ ] æ–°è¦ãƒ‡ãƒ¼ã‚¿è¿½åŠ ï¼ˆ100ä»¶ç¨‹åº¦ï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿ç²¾åº¦ãƒã‚§ãƒƒã‚¯
- [ ] ã‚¢ã‚¯ã‚»ã‚¹è§£æãƒ¬ãƒ“ãƒ¥ãƒ¼

### æœˆæ¬¡
- [ ] ãƒ‡ãƒ¼ã‚¿å…¨ä½“æ›´æ–°ï¼ˆè©•ä¾¡ãƒ»URLå¤‰æ›´ç­‰ï¼‰
- [ ] SEOãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
- [ ] åç›Šãƒ¬ãƒãƒ¼ãƒˆä½œæˆ

---

## ğŸ“ æ³¨æ„äº‹é …ãƒ»ãƒªã‚¹ã‚¯

### æŠ€è¡“çš„ãƒªã‚¹ã‚¯
- **ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°è¦åˆ¶**: robots.txtéµå®ˆã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–å¿…é ˆ
- **APIæ–™é‡‘**: Google Maps APIæœˆé¡$200åˆ¶é™ã€è¶…éæ™‚ã®å¯¾å¿œ
- **ãƒ‡ãƒ¼ã‚¿ç²¾åº¦**: èª¤æƒ…å ±æ··å…¥ã®ãƒªã‚¹ã‚¯ã€å®šæœŸæ¤œè¨¼å¿…è¦

### æ³•çš„ãƒªã‚¹ã‚¯
- **è‘—ä½œæ¨©**: ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å…ƒã‚µã‚¤ãƒˆã®åˆ©ç”¨è¦ç´„ç¢ºèª
- **å€‹äººæƒ…å ±**: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç­‰ã®å–ã‚Šæ‰±ã„æ³¨æ„
- **æ™¯è¡¨æ³•**: å£ã‚³ãƒŸãƒ»è©•ä¾¡ã®è¡¨ç¤ºã«é–¢ã™ã‚‹è¦åˆ¶

### ãƒ“ã‚¸ãƒã‚¹ãƒªã‚¹ã‚¯
- **ç«¶åˆå‡ºç¾**: é¡ä¼¼ã‚µãƒ¼ãƒ“ã‚¹ã®å°é ­
- **åç›ŠåŒ–å›°é›£**: æƒ³å®šPVæœªé”æˆ
- **é‹ç”¨å·¥æ•°**: ã‚¹ã‚±ãƒ¼ãƒ«æ™‚ã®äººæ‰‹ä¸è¶³

---

## ğŸ“ å­¦ç¿’ãƒ»æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ

### Phase 0ã§æ¤œè¨¼ã™ã¹ãä»®èª¬
1. **ãƒ‡ãƒ¼ã‚¿é‡ vs SEOåŠ¹æœ**: 1,905ä»¶ã§ä¸Šä½è¡¨ç¤ºå¯èƒ½ã‹ï¼Ÿ
2. **ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° vs API**: ã‚³ã‚¹ãƒˆãƒ»ç²¾åº¦ãƒ»é€Ÿåº¦ã®ãƒãƒ©ãƒ³ã‚¹
3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‹ãƒ¼ã‚º**: ã©ã®æƒ…å ±ãŒæœ€ã‚‚é–²è¦§ã•ã‚Œã‚‹ã‹ï¼Ÿ
4. **åœ°åŸŸç‰¹åŒ– vs å…¨å›½å±•é–‹**: æ±äº¬23åŒºã®ã¿ã§ååˆ†ã‹ï¼Ÿ

### Phase 1ã§ã®æ”¹å–„
1. **ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«æœ€é©åŒ–**: JSON vs æ­£è¦åŒ–ãƒ†ãƒ¼ãƒ–ãƒ«
2. **ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°åŠ¹ç‡åŒ–**: ä¸¦åˆ—å‡¦ç†ã€ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
3. **UI/UXæ”¹å–„**: A/Bãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹æœ€é©åŒ–

---

## ğŸš€ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å³åº§ã«å®Ÿæ–½ï¼ˆPhase 0ç¶™ç¶šï¼‰
1. [ ] GMAP Phase 1Bå®Ÿè¡Œï¼ˆCIDå–å¾—ï¼‰
2. [ ] Phase 1Cå®Ÿè¡Œï¼ˆå•ã„åˆã‚ã›æƒ…å ±å–å¾—ï¼‰
3. [ ] ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‹¡å……å¾Œã®SEOåŠ¹æœæ¸¬å®šæº–å‚™

### 3ãƒ¶æœˆå¾Œåˆ¤æ–­ï¼ˆPhase 1ç§»è¡Œå¯å¦ï¼‰
- ä¸Šè¨˜KPIé”æˆçŠ¶æ³ã‚’è©•ä¾¡
- Phase 1å®Ÿè£…ã®è©³ç´°è¨­è¨ˆé–‹å§‹
- é£²é£Ÿåº—ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹èª¿æŸ»

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ22æ—¥  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼**: @shintarospec
